<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Primary SEO & Analytics -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="robots" content="index,follow,max-image-preview:large" />
  <meta name="theme-color" content="#0d0f12" media="(prefers-color-scheme: dark)">
  <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
  <meta name="application-name" content="Silksong 100% Checklist" />
  <meta name="author" content="Silksong Checklist Community" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="Silksong Checklist" />
  <meta name="color-scheme" content="dark light" />
  <title>Hollow Knight: Silksong | Interactive 100% checklist &amp; Guide</title>
  <meta name="description" content="Interactive checklist for Hollow Knight: Silksong that will help you easily achieve 100% completion of the video game. Includes everything you need, maps, guides, etc." />
  <!-- Spanish alternate description (used on ES static variant) -->
  <meta name="description" lang="es" content="Checklist interactivo completo de Hollow Knight: Silksong. Marca cada objeto, fragmento, mejora y habilidad para alcanzar el 100% de progreso." />
  <!-- AdSense account meta (recommended) -->
  <meta name="google-adsense-account" content="ca-pub-9707168065012640" />
  <link rel="canonical" href="https://checklistsilksong.com/" />
  <!-- Internationalization (only EN & ES for now) -->
  <link rel="alternate" hreflang="en" href="https://checklistsilksong.com/" />
  <!-- Point Spanish hreflang to planned static ES variant (can be generated later) -->
  <link rel="alternate" hreflang="es" href="https://checklistsilksong.com/es/" />
  <link rel="alternate" hreflang="x-default" href="https://checklistsilksong.com/" />

  <!-- Favicons & App Icons (Simplified) -->
  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials" />

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Silksong 100% Checklist" />
  <meta property="og:url" content="https://checklistsilksong.com/" />
  <meta property="og:title" content="Hollow Knight: Silksong | Interactive 100% checklist & Guide" />
  <meta property="og:description" content="Interactive checklist for Hollow Knight: Silksong that will help you easily achieve 100% completion of the video game. Includes everything you need, maps, guides, etc." />
  <meta property="og:image" content="https://checklistsilksong.com/assets/images/ss_og_preview.png" />
  <meta property="og:image:alt" content="Silksong 100% Checklist interface preview" />
  <meta property="og:locale" content="en_US" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Hollow Knight: Silksong | Interactive 100% checklist & Guide" />
  <meta name="twitter:description" content="Interactive checklist for Hollow Knight: Silksong that will help you easily achieve 100% completion of the video game. Includes everything you need, maps, guides, etc." />
  <meta name="twitter:image" content="https://checklistsilksong.com/assets/images/ss_og_preview.png" />
  <!-- TODO: Add your Twitter handle here. Example: <meta name="twitter:site" content="@mytwitter" /> -->
  <!-- Optional: Provide Discord webhook endpoint at deploy time (se inyecta en CI; mantener vacío en el repo) -->
  <meta name="feedback-webhook" content="" />
  <!-- DEPLOY TEST: Oct 1 2025 -->

  <!-- Preconnect & Performance Hints -->
  <link rel="preconnect" href="https://www.googletagmanager.com" crossorigin>
  <link rel="preconnect" href="https://pagead2.googlesyndication.com" crossorigin>
  <link rel="dns-prefetch" href="//www.googletagmanager.com">
  <link rel="dns-prefetch" href="//pagead2.googlesyndication.com">
  <link rel="preload" as="image" href="/assets/images/ss3.png" imagesrcset="/assets/images/ss3.png 1x" fetchpriority="high" />
  <!-- Preload critical JSON (dataset + default locale) -->
  <link rel="preload" href="/data/silksong_items.json" as="fetch" type="application/json" crossorigin>
  <link rel="preload" href="/src/i18n/en.json" as="fetch" type="application/json" crossorigin>

  <!-- Structured Data (JSON-LD) consolidated -->
  <script type="application/ld+json">{
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "Organization",
        "@id": "https://checklistsilksong.com/#org",
        "name": "Silksong Checklist",
        "url": "https://checklistsilksong.com/",
        "logo": {
          "@type": "ImageObject",
          "url": "https://checklistsilksong.com/assets/images/ss_og_preview.png"
        }
      },
      {
        "@type": "WebSite",
        "@id": "https://checklistsilksong.com/#website",
        "url": "https://checklistsilksong.com/",
        "name": "Hollow Knight: Silksong | Interactive 100% checklist & Guide",
        "inLanguage": ["en","es"],
        "potentialAction": {
          "@type": "SearchAction",
          "target": "https://checklistsilksong.com/?q={search_term}",
          "query-input": "required name=search_term"
        }
      },
      {
        "@type": "WebApplication",
        "name": "Hollow Knight: Silksong | Interactive 100% checklist & Guide",
        "url": "https://checklistsilksong.com/",
        "applicationCategory": "GameApplication",
        "operatingSystem": "Any",
        "description": "Interactive checklist for Hollow Knight: Silksong that will help you easily achieve 100% completion of the video game. Includes everything you need, maps, guides, etc.",
        "inLanguage": ["en","es"],
        "offers": {"@type": "Offer", "price": "0", "priceCurrency": "USD"}
      }
    ]
  }</script>

  <!-- Google Analytics 4 (mínimo + privacidad) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-3ZD7H8X2CE"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-3ZD7H8X2CE', { anonymize_ip: true });
  </script>
  <!-- Ads / Monetization (AdSense snippet inserted when client ID provided) -->
  <!-- Google AdSense (script activo; unidades de anuncio ocultas hasta aprobación) -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9707168065012640" crossorigin="anonymous"></script>

  <!-- Critical CSS mínimo; estilos completos en /assets/app.css -->
  <style>
    :root { --bg:#0d0f12; --panel:#14181d; --panel-alt:#1c232b; --fg:#f5f7fa; --accent:#4fb3ff; --accent-grad:linear-gradient(90deg,#4fb3ff,#00ffa8); --muted:#6e7b88; --border:#242d36; --radius:8px; --focus:#ffe28a; --danger:#ff4f4f; --silksong-gold-grad:linear-gradient(90deg,#cf9a28,#e8c869,#f5e6b4,#e0bb55); font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif; }
    body { margin:0; color:var(--fg); background:#161a1e linear-gradient(180deg,#181d22 0%, #161b20 55%, #14181c 100%) fixed; -webkit-font-smoothing:antialiased; }
    header { display:flex; flex-direction:column; align-items:center; }
    .hero { width:100%; padding:1.1rem 0 .9rem; display:flex; flex-direction:column; align-items:center; gap:.75rem; background:linear-gradient(180deg,rgba(13,15,18,0.95),rgba(13,15,18,0.72) 60%,rgba(13,15,18,0)); }
    h1 { font:600 0.95rem/1 system-ui,Segoe UI,Roboto,Arial,sans-serif; letter-spacing:2px; text-transform:uppercase; margin:0; }
  #progressPercentText { font-size:1.05rem; font-weight:700; letter-spacing:2px; background:var(--silksong-gold-grad); -webkit-background-clip:text; background-clip:text; color:transparent; }
  </style>
  <link rel="preload" href="/assets/app.css" as="style">
  <link rel="stylesheet" href="/assets/app.css" media="print" onload="this.media='all'">
  <noscript><link rel="stylesheet" href="/assets/app.css"></noscript>
  <!-- Display font for modernized title -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600;700&display=swap" rel="stylesheet">
  <script>/* early locale bootstrap */(function(){try{var KEY='silksongChecklistLocale_v1';var stored=localStorage.getItem(KEY);if(stored&&(stored==='en'||stored==='es')){document.documentElement.lang=stored;document.documentElement.setAttribute('data-locale',stored);} }catch(e){}})();</script>
</head>
<body class="pre-init">
<!-- Removed legacy GTM noscript iframe to keep analytics minimal -->

<!-- AdSense placeholder (uncomment when real publisher ID added) -->
<!-- AdSense script already included in <head>; keep this placeholder commented to avoid double load -->
<header>
  <div class="topbar" role="banner">
    <div class="logo-wrap">
      <img src="./assets/images/ss3.png" alt="Silksong" class="logo" loading="lazy" decoding="async" />
  <h1 data-i18n="app.title" class="app-title"><span class="title-flair" aria-hidden="true">✦</span><span class="title-text" data-outline="100% Completion Checklist">100% Completion Checklist</span><span class="title-flair" aria-hidden="true">✦</span></h1>
    </div>
    <div class="toolbar" role="group" aria-label="Primary toolbar">
      <div class="search-inline">
        <input id="searchInput" type="search" placeholder="Search..." aria-label="Search items" data-i18n-placeholder="search.placeholder" />
      </div>
      <button id="importBtn" data-i18n="import" aria-label="Import data" class="btn-icon-labeled btn-import"><span class="btn-label" data-i18n="import">Import</span></button>
      <button id="exportBtn" data-i18n="export" aria-label="Export data" class="btn-icon-labeled btn-export"><span class="btn-label" data-i18n="export">Export</span></button>
      <button id="infoBtn" data-i18n="info" aria-haspopup="dialog" aria-controls="infoModal" class="btn-icon-labeled btn-info"><span class="btn-label" data-i18n="info">Info</span></button>
  <button id="feedbackBtn" data-i18n="feedback.open" aria-haspopup="dialog" aria-controls="feedbackModal" class="btn-icon-labeled btn-feedback"><span class="btn-label" data-i18n="feedback.open">Feedback</span></button>
  <button id="expandAllBtn" aria-label="Expand categories" data-i18n="expand" class="btn-icon-labeled btn-expand"><span class="btn-label" data-i18n="expand">Expand</span></button>
  <button id="collapseAllBtn" aria-label="Collapse categories" data-i18n="collapse" class="btn-icon-labeled btn-collapse"><span class="btn-label" data-i18n="collapse">Collapse</span></button>
      <div class="lang-dropdown">
        <button id="langToggle" type="button" class="lang-toggle" aria-label="Change language" aria-haspopup="listbox" aria-expanded="false" data-lang="en">
          <span class="flag flag-en" aria-hidden="true"></span>
          <span class="lang-code">EN</span>
          <span class="lang-caret" aria-hidden="true"></span>
        </button>
        <ul id="langMenu" class="lang-menu" role="listbox" aria-label="Language" hidden>
          <li role="option" data-lang="en" aria-selected="true" tabindex="-1"><span class="flag flag-en" aria-hidden="true"></span><span class="opt-code">EN</span></li>
          <li role="option" data-lang="es" aria-selected="false" tabindex="-1"><span class="flag flag-es" aria-hidden="true"></span><span class="opt-code">ES</span></li>
        </ul>
      </div>
      <button id="resetBtn" data-i18n="reset" class="btn-icon-labeled btn-reset"><span class="btn-label" data-i18n="reset">Reset</span></button>
      <input type="file" id="importFileInput" accept="application/json" style="display:none" />
    </div>
  </div>
  </div>
</header>
<div class="hero" id="hero">
  <div class="progress-center hero-with-sides">
    <div class="hero-sides-row">
  <img src="./assets/images/Header_imgs/1.png" alt="" class="hero-side hero-side--left" loading="lazy" decoding="async" aria-hidden="true" />
      <img src="./assets/images/ss3.png" alt="Silksong" class="hero-logo" loading="lazy" decoding="async" />
  <img src="./assets/images/Header_imgs/2.png" alt="" class="hero-side hero-side--right" loading="lazy" decoding="async" aria-hidden="true" />
    </div>
    <div id="progressPercentText">0% Done</div>
    <div class="progress-bar" aria-hidden="true"><div class="progress-bar__fill"></div></div>
    <div id="itemsRemaining">0 items remaining</div>
  </div>
</div>
<div id="heroSentinel" aria-hidden="true" style="height:1px;width:100%;"></div>
<!-- Removed floating progress: now always visible in topbar -->
<div id="datasetIssues" style="display:none;position:fixed;left:50%;transform:translateX(-50%);top:56px;z-index:90;max-width:820px;width:calc(100% - 2rem);background:#3a1f1f;border:1px solid #a33;padding:.65rem .85rem .7rem;border-radius:10px;color:#f5d9d9;font-size:.65rem;line-height:1.25;box-shadow:0 4px 14px -6px rgba(0,0,0,.6);">
  <strong data-i18n="dataset.errors.title">Dataset validation issues:</strong>
  <ul id="datasetIssuesList" style="margin:.4rem 0 0 .9rem;padding:0;">
  </ul>
  <button id="dismissIssues" style="margin-top:.55rem;background:#592d2d;border:1px solid #a33;color:#f9e2e2;padding:.25rem .55rem;border-radius:5px;font-size:.6rem;cursor:pointer;">OK</button>
</div>
<main>
  <div id="categories" class="categories" aria-live="polite"></div>
</main>
<footer style="padding:1rem;font-size:.7rem;color:#6e7b88;text-align:center;border-top:1px solid #242d36;background:#0f1215;">
  <p style="margin:0;">Silksong community project • <span data-i18n="footer.note">Data is unofficial and may change.</span></p>
</footer>
<!-- Floating persistent progress widget -->
<div id="floatingProgress" class="floating-progress" role="status" aria-live="polite" aria-label="Checklist progress" title="Progress" hidden>
  <div class="floating-progress__bar"><div class="floating-progress__fill" id="floatingProgressFill"></div></div>
  <div class="floating-progress__percent" id="floatingProgressPercent">0%</div>
</div>
<!-- (Removed custom lazy / retry script; using pure default one-line pushes above each ad) -->
<script>
  // Dynamically update <html lang> when language changes
  (function(){
    const sel = document.getElementById('langSel');
    if(!sel) return;
    function applyLang(){
      document.documentElement.lang = sel.value || 'en';
    }
    sel.addEventListener('change', applyLang);
    applyLang(); // Initial setup
  })();
  // Basic fallback category headings for bots / no-JS (injection after slight delay if empty)
  (function(){
    const placeholder = document.getElementById('categories');
    if(!placeholder) return;
    setTimeout(()=>{
      if(placeholder.children.length === 0){
        const ul = document.createElement('ul');
        ul.style.listStyle='disc';
        ul.style.padding='0 0 0 1.1rem';
        ul.style.fontSize='.7rem';
        ul.style.opacity='0.75';
        const keys = [
          'fallback.categories.needle_upgrades',
          'fallback.categories.silk_spools',
          'fallback.categories.silk_hearts',
          'fallback.categories.ancient_masks',
          'fallback.categories.crests',
          'fallback.categories.silk_skills',
          'fallback.categories.crafting_kit_upgrades',
          'fallback.categories.tool_pouch_upgrades',
          'fallback.categories.abilities',
          'fallback.categories.tools',
          'fallback.categories.misc'
        ];
        keys.forEach(k=>{ const li=document.createElement('li'); li.setAttribute('data-i18n', k); li.textContent=k; ul.appendChild(li); });
        placeholder.appendChild(ul);
      }
    }, 1200);
  })();
</script>
<!-- Stable header shrink via IntersectionObserver -->
<script>
  (function(){
    const sentinel = document.getElementById('heroSentinel');
    const hero = document.getElementById('hero');
    if(!sentinel || !hero || !('IntersectionObserver' in window)) return;
    const rootMargin = '-80px 0px 0px 0px'; // shrink when top passes 80px
    const obs = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        hero.classList.toggle('shrink', !e.isIntersecting);
      });
    }, { root:null, threshold:0, rootMargin });
    obs.observe(sentinel);
  })();
</script>
<!-- Service Worker y script principal -->
<script>
  if('serviceWorker' in navigator){
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('/sw.js').catch(()=>{});
    });
  }
</script>
<!-- Info Modal -->
<div id="infoModal" class="info-modal" role="dialog" aria-modal="true" aria-labelledby="infoModalTitle" hidden>
  <div class="info-modal__backdrop" data-close="infoModal"></div>
  <div class="info-modal__dialog">
    <button class="info-modal__close" data-close="infoModal" aria-label="Close">×</button>
    <h2 id="infoModalTitle" data-i18n="info.title">About / Info</h2>
    <p data-i18n="info.desc">This fan-made Silksong checklist lets you track progress offline (stored locally). Use Export to create a backup JSON and Import to restore it on another device or browser.</p>
    <ul class="info-list">
      <li data-i18n="info.point.progress">Progress & category collapse states are saved automatically.</li>
      <li data-i18n="info.point.privacy">All data stays on your device. No account needed.</li>
      <li data-i18n="info.point.backup">Use Export regularly to keep a backup.</li>
      <li data-i18n="info.point.version">Format version may evolve; old imports will be adapted when possible.</li>
    </ul>
    <p style="font-size:.65rem;opacity:.65" data-i18n="info.disclaimer">Hollow Knight: Silksong assets / names are property of their respective owners. This is an unofficial community project.</p>
  </div>
</div>
<!-- Feedback Modal -->
  <div id="feedbackModal" class="feedback-modal" role="dialog" aria-modal="true" aria-labelledby="feedbackModalTitle" hidden>
    <div class="feedback-modal__backdrop" data-close="feedbackModal"></div>
    <div class="feedback-modal__dialog">
      <button class="feedback-modal__close" data-close="feedbackModal" aria-label="Close">×</button>
      <h2 id="feedbackModalTitle" data-i18n="feedback.title">Send Feedback</h2>
      <form id="feedbackForm" novalidate>
        <div class="fb-row">
          <label for="fbType"><span data-i18n="feedback.type.label">Type</span></label>
          <select id="fbType" name="type">
            <option value="bug" data-i18n="feedback.type.bug">Bug</option>
            <option value="idea" data-i18n="feedback.type.idea">Idea</option>
            <option value="data" data-i18n="feedback.type.data">Incorrect data</option>
            <option value="other" data-i18n="feedback.type.other">Other</option>
          </select>
        </div>
        <div class="fb-row">
          <label for="fbMsg"><span data-i18n="feedback.message.label">Message</span></label>
          <textarea id="fbMsg" name="message" rows="5" minlength="10" required placeholder="Write your feedback (min 10 characters)..." data-i18n-placeholder="feedback.placeholder"></textarea>
        </div>
        <div class="fb-actions">
          <button type="button" class="fb-cancel" data-close="feedbackModal" data-i18n="feedback.cancel">Cancel</button>
          <button type="submit" id="fbSendBtn" class="fb-send" data-i18n="feedback.send">Send</button>
        </div>
        <div id="fbStatus" class="fb-status" role="status" aria-live="polite" hidden></div>
      </form>
    </div>
  </div>
<script type="module" src="/src/js/main.js"></script>
</body>
</html>
