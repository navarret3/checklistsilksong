<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Primary SEO & Analytics -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="robots" content="index,follow,max-image-preview:large" />
  <meta name="theme-color" content="#0d0f12" media="(prefers-color-scheme: dark)">
  <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
  <meta name="application-name" content="Silksong 100% Checklist" />
  <meta name="author" content="Silksong Checklist Community" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="Silksong Checklist" />
  <meta name="color-scheme" content="dark light" />
  <title>Hollow Knight: Silksong | Interactive 100% checklist &amp; Guide</title>
  <meta name="description" content="Interactive checklist for Hollow Knight: Silksong that will help you easily achieve 100% completion of the video game. Includes everything you need, maps, guides, etc." />
  <!-- Spanish alternate description (used on ES static variant) -->
  <meta name="description" lang="es" content="Checklist interactivo completo de Hollow Knight: Silksong. Marca cada objeto, fragmento, mejora y habilidad para alcanzar el 100% de progreso." />
  <!-- AdSense account meta (recommended) -->
  <meta name="google-adsense-account" content="ca-pub-9707168065012640" />
  <link rel="canonical" href="https://checklistsilksong.com/" />
  <!-- Internationalization (only EN & ES for now) -->
  <link rel="alternate" hreflang="en" href="https://checklistsilksong.com/" />
  <!-- Point Spanish hreflang to planned static ES variant (can be generated later) -->
  <link rel="alternate" hreflang="es" href="https://checklistsilksong.com/es/" />
  <link rel="alternate" hreflang="x-default" href="https://checklistsilksong.com/" />

  <!-- Favicons & App Icons (Simplified) -->
  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials" />

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Silksong 100% Checklist" />
  <meta property="og:url" content="https://checklistsilksong.com/" />
  <meta property="og:title" content="Hollow Knight: Silksong | Interactive 100% checklist & Guide" />
  <meta property="og:description" content="Interactive checklist for Hollow Knight: Silksong that will help you easily achieve 100% completion of the video game. Includes everything you need, maps, guides, etc." />
  <meta property="og:image" content="https://checklistsilksong.com/assets/images/ss_og_preview.png" />
  <meta property="og:image:alt" content="Silksong 100% Checklist interface preview" />
  <meta property="og:locale" content="en_US" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Hollow Knight: Silksong | Interactive 100% checklist & Guide" />
  <meta name="twitter:description" content="Interactive checklist for Hollow Knight: Silksong that will help you easily achieve 100% completion of the video game. Includes everything you need, maps, guides, etc." />
  <meta name="twitter:image" content="https://checklistsilksong.com/assets/images/ss_og_preview.png" />
  <!-- TODO: Add your Twitter handle here. Example: <meta name="twitter:site" content="@mytwitter" /> -->

  <!-- Preconnect & Performance Hints -->
  <link rel="preconnect" href="https://www.googletagmanager.com" crossorigin>
  <link rel="preconnect" href="https://pagead2.googlesyndication.com" crossorigin>
  <link rel="dns-prefetch" href="//www.googletagmanager.com">
  <link rel="dns-prefetch" href="//pagead2.googlesyndication.com">
  <link rel="preload" as="image" href="/assets/images/ss3.png" imagesrcset="/assets/images/ss3.png 1x" fetchpriority="high" />
  <!-- Preload critical JSON (dataset + default locale) -->
  <link rel="preload" href="/data/silksong_items.json" as="fetch" type="application/json" crossorigin>
  <link rel="preload" href="/src/i18n/en.json" as="fetch" type="application/json" crossorigin>

  <!-- Structured Data (JSON-LD) consolidated -->
  <script type="application/ld+json">{
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "Organization",
        "@id": "https://checklistsilksong.com/#org",
        "name": "Silksong Checklist",
        "url": "https://checklistsilksong.com/",
        "logo": {
          "@type": "ImageObject",
          "url": "https://checklistsilksong.com/assets/images/ss_og_preview.png"
        }
      },
      {
        "@type": "WebSite",
        "@id": "https://checklistsilksong.com/#website",
        "url": "https://checklistsilksong.com/",
        "name": "Hollow Knight: Silksong | Interactive 100% checklist & Guide",
        "inLanguage": ["en","es"],
        "potentialAction": {
          "@type": "SearchAction",
          "target": "https://checklistsilksong.com/?q={search_term}",
          "query-input": "required name=search_term"
        }
      },
      {
        "@type": "WebApplication",
        "name": "Hollow Knight: Silksong | Interactive 100% checklist & Guide",
        "url": "https://checklistsilksong.com/",
        "applicationCategory": "GameApplication",
        "operatingSystem": "Any",
        "description": "Interactive checklist for Hollow Knight: Silksong that will help you easily achieve 100% completion of the video game. Includes everything you need, maps, guides, etc.",
        "inLanguage": ["en","es"],
        "offers": {"@type": "Offer", "price": "0", "priceCurrency": "USD"}
      }
    ]
  }</script>

  <!-- Google Analytics 4 (mÃ­nimo + privacidad) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-3ZD7H8X2CE"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-3ZD7H8X2CE', { anonymize_ip: true });
  </script>
  <!-- Ads / Monetization (AdSense snippet inserted when client ID provided) -->
  <!-- Google AdSense (script activo; unidades de anuncio ocultas hasta aprobaciÃ³n) -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9707168065012640" crossorigin="anonymous"></script>

  <!-- Critical CSS mÃ­nimo; estilos completos en /assets/app.css -->
  <style>
    :root { --bg:#0d0f12; --panel:#14181d; --panel-alt:#1c232b; --fg:#f5f7fa; --accent:#4fb3ff; --accent-grad:linear-gradient(90deg,#4fb3ff,#00ffa8); --muted:#6e7b88; --border:#242d36; --radius:8px; --focus:#ffe28a; --danger:#ff4f4f; font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif; }
    body { margin:0; color:var(--fg); background:#161a1e linear-gradient(180deg,#181d22 0%, #161b20 55%, #14181c 100%) fixed; -webkit-font-smoothing:antialiased; }
    header { display:flex; flex-direction:column; align-items:center; }
    .hero { width:100%; padding:1.3rem 0 1rem; display:flex; flex-direction:column; align-items:center; gap:.75rem; background:linear-gradient(180deg,rgba(13,15,18,0.95),rgba(13,15,18,0.72) 60%,rgba(13,15,18,0)); }
    h1 { font:600 0.95rem/1 system-ui,Segoe UI,Roboto,Arial,sans-serif; letter-spacing:2px; text-transform:uppercase; margin:0; }
    .progress-center { width:100%; max-width:760px; display:flex; flex-direction:column; align-items:center; gap:.5rem; }
    .progress-bar { height:14px; width:100%; background:#1f2730; border-radius:8px; overflow:hidden; position:relative; }
    .progress-bar__fill { position:absolute; inset:0; width:0; background:var(--accent-grad); }
    #progressPercentText { font-size:1.05rem; font-weight:700; letter-spacing:2px; background:var(--accent-grad); -webkit-background-clip:text; color:transparent; }
  </style>
  <link rel="preload" href="/assets/app.css" as="style">
  <link rel="stylesheet" href="/assets/app.css" media="print" onload="this.media='all'">
  <noscript><link rel="stylesheet" href="/assets/app.css"></noscript>
</head>
<body>
<!-- Removed legacy GTM noscript iframe to keep analytics minimal -->

<!-- AdSense placeholder (uncomment when real publisher ID added) -->
<!-- AdSense script already included in <head>; keep this placeholder commented to avoid double load -->
<header>
  <div class="hero">
  <div class="controls" role="group" aria-label="Utility controls">
    <div class="lang-container">
      <label for="langSel" class="sr-only">Language</label>
      <select id="langSel" aria-label="Language">
        <option value="en">ðŸ‡ºðŸ‡¸ EN</option>
        <option value="es">ðŸ‡ªðŸ‡¸ ES</option>
        <option value="fr">ðŸ‡«ðŸ‡· FR</option>
        <option value="de">ðŸ‡©ðŸ‡ª DE</option>
        <option value="it">ðŸ‡®ðŸ‡¹ IT</option>
        <option value="ru">ðŸ‡·ðŸ‡º RU</option>
      </select>
    </div>
    <button id="resetBtn" data-i18n="reset">Reset</button>
  </div>
    <img src="./assets/images/ss3.png" alt="Silksong" loading="lazy" decoding="async" />
    <h1 data-i18n="app.title">100% Completion Checklist</h1>
    <div class="search-bar-wrap">
      <input id="searchInput" type="search" placeholder="Search item..." aria-label="Search items" data-i18n-placeholder="search.placeholder" style="background:#141b21;border:1px solid #25313c;color:var(--fg);padding:.55rem .75rem .6rem;border-radius:8px;font-size:.7rem;letter-spacing:.5px;outline:none;box-shadow:0 2px 4px -2px rgba(0,0,0,.5),0 0 0 1px rgba(255,255,255,0.02);transition:border-color .25s, background .25s;" />
    </div>
    <div class="progress-center">
      <div id="progressPercentText">0% Done</div>
      <div class="progress-bar" aria-hidden="true"><div class="progress-bar__fill"></div></div>
      <div id="itemsRemaining">0 items remaining</div>
    </div>
  </div>
</header>
<div class="progress-floating" id="progressFloating" aria-hidden="true">
  <div id="progressPercentTextFloating">0% Done</div>
  <div class="progress-bar" aria-hidden="true"><div class="progress-bar__fill progress-bar__fill--floating"></div></div>
  <div id="itemsRemainingFloating">0 items remaining</div>
</div>
<div id="datasetIssues" style="display:none;position:fixed;left:50%;transform:translateX(-50%);top:56px;z-index:90;max-width:820px;width:calc(100% - 2rem);background:#3a1f1f;border:1px solid #a33;padding:.65rem .85rem .7rem;border-radius:10px;color:#f5d9d9;font-size:.65rem;line-height:1.25;box-shadow:0 4px 14px -6px rgba(0,0,0,.6);">
  <strong data-i18n="dataset.errors.title">Dataset validation issues:</strong>
  <ul id="datasetIssuesList" style="margin:.4rem 0 0 .9rem;padding:0;">
  </ul>
  <button id="dismissIssues" style="margin-top:.55rem;background:#592d2d;border:1px solid #a33;color:#f9e2e2;padding:.25rem .55rem;border-radius:5px;font-size:.6rem;cursor:pointer;">OK</button>
</div>
<main>
  <div id="categories" class="categories" aria-live="polite"></div>
</main>
<footer style="padding:1rem;font-size:.7rem;color:#6e7b88;text-align:center;border-top:1px solid #242d36;background:#0f1215;">
  <p style="margin:0;">Silksong community project â€¢ <span data-i18n="footer.note">Data is unofficial and may change.</span></p>
</footer>
<!-- (Removed custom lazy / retry script; using pure default one-line pushes above each ad) -->
<script>
  // Dynamically update <html lang> when language changes
  (function(){
    const sel = document.getElementById('langSel');
    if(!sel) return;
    function applyLang(){
      document.documentElement.lang = sel.value || 'en';
    }
    sel.addEventListener('change', applyLang);
    applyLang(); // Initial setup
  })();
  // Basic fallback category headings for bots / no-JS (injection after slight delay if empty)
  (function(){
    const placeholder = document.getElementById('categories');
    if(!placeholder) return;
    setTimeout(()=>{
      if(placeholder.children.length === 0){
        const ul = document.createElement('ul');
        ul.style.listStyle='disc';
        ul.style.padding='0 0 0 1.1rem';
        ul.style.fontSize='.7rem';
        ul.style.opacity='0.75';
        const keys = [
          'fallback.categories.needle_upgrades',
          'fallback.categories.silk_spools',
          'fallback.categories.silk_hearts',
          'fallback.categories.ancient_masks',
          'fallback.categories.crests',
          'fallback.categories.silk_skills',
          'fallback.categories.crafting_kit_upgrades',
          'fallback.categories.tool_pouch_upgrades',
          'fallback.categories.abilities',
          'fallback.categories.tools',
          'fallback.categories.misc'
        ];
        keys.forEach(k=>{ const li=document.createElement('li'); li.setAttribute('data-i18n', k); li.textContent=k; ul.appendChild(li); });
        placeholder.appendChild(ul);
      }
    }, 1200);
  })();
</script>
<script>
  (function(){
    const hero = document.querySelector('.hero');
      if(!hero) return;
      const shrinkStart = 40; // px
      function onScroll(){
        const y = window.scrollY || document.documentElement.scrollTop;
        if(y > shrinkStart) hero.classList.add('shrink'); else hero.classList.remove('shrink');
      }
      window.addEventListener('scroll', onScroll, { passive:true });
      onScroll();
  })();
</script>
<!-- Service Worker y script principal -->
<script>
  if('serviceWorker' in navigator){
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('/sw.js').catch(()=>{});
    });
  }
</script>
<script type="module" src="/src/js/main.js"></script>
</body>
</html>
