<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Primary SEO & Analytics -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="robots" content="index,follow,max-image-preview:large" />
  <meta name="theme-color" content="#0d0f12" media="(prefers-color-scheme: dark)">
  <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
  <meta name="application-name" content="Silksong 100% Checklist" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="Silksong Checklist" />
  <title>Silksong 100% Checklist &amp; Guide</title>
  <meta name="description" content="A complete, interactive Hollow Knight: Silksong checklist. Track every item, shard, fragment, ability and upgrade to reach 100% completion." />
  <!-- Spanish alternate description (used on ES static variant) -->
  <meta name="description" lang="es" content="Checklist interactivo completo de Hollow Knight: Silksong. Marca cada objeto, fragmento, mejora y habilidad para alcanzar el 100% de progreso." />
  <!-- AdSense account meta (recommended) -->
  <meta name="google-adsense-account" content="ca-pub-9707168065012640" />
  <link rel="canonical" href="https://checklistsilksong.com/" />
  <!-- Internationalization (only EN & ES for now) -->
  <link rel="alternate" hreflang="en" href="https://checklistsilksong.com/" />
  <!-- Point Spanish hreflang to planned static ES variant (can be generated later) -->
  <link rel="alternate" hreflang="es" href="https://checklistsilksong.com/es/" />
  <link rel="alternate" hreflang="x-default" href="https://checklistsilksong.com/" />

  <!-- Favicons & App Icons -->
  <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico?v=2" />
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon-16x16.png?v=2" />
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon-32x32.png?v=2" />
  <link rel="icon" type="image/png" sizes="48x48" href="/assets/images/favicon-48x48.png?v=2" />
  <link rel="icon" type="image/png" sizes="64x64" href="/assets/images/favicon-64x64.png?v=2" />
  <link rel="icon" type="image/png" sizes="128x128" href="/assets/images/favicon-128.png?v=2" />
  <link rel="icon" type="image/png" sizes="192x192" href="/assets/images/favicon-192.png?v=2" />
  <link rel="icon" type="image/png" sizes="256x256" href="/assets/images/favicon-256.png?v=2" />
  <link rel="icon" type="image/png" sizes="384x384" href="/assets/images/favicon-384.png?v=2" />
  <link rel="icon" type="image/png" sizes="512x512" href="/assets/images/favicon-512.png?v=2" />
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicon-192.png?v=2" />
  <link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials" />

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Silksong 100% Checklist" />
  <meta property="og:url" content="https://checklistsilksong.com/" />
  <meta property="og:title" content="Silksong 100% Checklist & Guide" />
  <meta property="og:description" content="Track all Hollow Knight: Silksong collectibles, abilities & upgrades toward 100% completion." />
  <meta property="og:image" content="https://checklistsilksong.com/assets/images/ss_og_preview.png" />
  <meta property="og:image:alt" content="Silksong 100% Checklist interface preview" />
  <meta property="og:locale" content="en_US" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Silksong 100% Checklist & Guide" />
  <meta name="twitter:description" content="Interactive Hollow Knight: Silksong checklist to reach 100% completion." />
  <meta name="twitter:image" content="https://checklistsilksong.com/assets/images/ss_og_preview.png" />
  <!-- TODO: Add your Twitter handle here. Example: <meta name="twitter:site" content="@mytwitter" /> -->

  <!-- Preconnect & Performance Hints -->
  <link rel="preconnect" href="https://www.googletagmanager.com" crossorigin>
  <link rel="preconnect" href="https://pagead2.googlesyndication.com" crossorigin>
  <link rel="dns-prefetch" href="//www.googletagmanager.com">
  <link rel="dns-prefetch" href="//pagead2.googlesyndication.com">
  <link rel="preload" as="image" href="/assets/images/ss3.png" imagesrcset="/assets/images/ss3.png 1x" fetchpriority="high" />

  <!-- Structured Data (JSON-LD) consolidated -->
  <script type="application/ld+json">{
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "Organization",
        "@id": "https://checklistsilksong.com/#org",
        "name": "Silksong Checklist",
        "url": "https://checklistsilksong.com/",
        "logo": {
          "@type": "ImageObject",
          "url": "https://checklistsilksong.com/assets/images/ss_og_preview.png"
        }
      },
      {
        "@type": "WebSite",
        "@id": "https://checklistsilksong.com/#website",
        "url": "https://checklistsilksong.com/",
        "name": "Silksong 100% Checklist",
        "inLanguage": ["en","es"],
        "potentialAction": {
          "@type": "SearchAction",
          "target": "https://checklistsilksong.com/?q={search_term}",
          "query-input": "required name=search_term"
        }
      },
      {
        "@type": "WebApplication",
        "name": "Silksong 100% Checklist",
        "url": "https://checklistsilksong.com/",
        "applicationCategory": "GameApplication",
        "operatingSystem": "Any",
        "description": "Interactive Hollow Knight: Silksong checklist to track collectibles, abilities and upgrades toward 100% completion.",
        "inLanguage": ["en","es"],
        "offers": {"@type": "Offer", "price": "0", "priceCurrency": "USD"}
      }
    ]
  }</script>

  <!-- Google Analytics 4 (solo, configuración mínima) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-6ZCGX9CG55"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-6ZCGX9CG55');
  </script>
  <!-- Ads / Monetization (AdSense snippet inserted when client ID provided) -->
  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9707168065012640" crossorigin="anonymous"></script>

  <style>
    /* Minimal (optional) subtle spacing for ad units */
    .ad-unit { margin:1.2rem auto; max-width:728px; text-align:center; }
    .ad-unit small { display:block; font-size:0.55rem; letter-spacing:1px; text-transform:uppercase; color:var(--muted); margin-bottom:.35rem; }
  </style>
  <style>
    :root {
      --bg: #0d0f12;
      --panel:#14181d;
      --panel-alt:#1c232b;
      --fg: #f5f7fa;
      --accent: #4fb3ff;
      --accent-grad: linear-gradient(90deg,#4fb3ff,#00ffa8);
      --muted:#6e7b88;
      --border:#242d36;
      --radius:8px;
      --focus:#ffe28a;
      --danger:#ff4f4f;
      --icon-size:78px; /* unified icon size for item thumbnails */
      font-family: system-ui, Segoe UI, Roboto, Arial, sans-serif;
    }
    * { box-sizing:border-box; }
    /* Enhanced dark granular background */
    body { margin:0; color:var(--fg); -webkit-font-smoothing:antialiased; position:relative;
      /* Lighter neutral gray granular background */
      background-color:#161a1e; /* fallback */
      background-image:
        radial-gradient(circle at 20% 18%, rgba(255,255,255,0.07), rgba(255,255,255,0) 62%),
        radial-gradient(circle at 78% 32%, rgba(255,255,255,0.055), rgba(255,255,255,0) 65%),
        radial-gradient(circle at 58% 78%, rgba(255,255,255,0.05), rgba(255,255,255,0) 58%),
        linear-gradient(180deg,#181d22 0%, #161b20 55%, #14181c 100%),
        url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='180' height='180'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/></filter><rect width='180' height='180' filter='url(%23n)' opacity='0.28'/></svg>");
      background-blend-mode:normal,normal,normal,normal,overlay;
      background-size:100% 100%, 100% 100%, 100% 100%, 100% 100%, 180px 180px;
      background-attachment:fixed, fixed, fixed, fixed, fixed;
    }
    /* Stronger grain variant (apply with body.grain-strong) */
    body.grain-strong { background-image:
        radial-gradient(circle at 20% 18%, rgba(255,255,255,0.09), rgba(255,255,255,0) 60%),
        radial-gradient(circle at 78% 32%, rgba(255,255,255,0.075), rgba(255,255,255,0) 63%),
        radial-gradient(circle at 58% 78%, rgba(255,255,255,0.07), rgba(255,255,255,0) 56%),
        linear-gradient(180deg,#1b2025 0%, #181c21 55%, #161a1e 100%),
        url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='150' height='150'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='1' numOctaves='5' stitchTiles='stitch'/></filter><rect width='150' height='150' filter='url(%23n)' opacity='0.35'/></svg>"); }
  header { display:flex; flex-direction:column; align-items:center; width:100%; }
  .hero { width:100%; padding:1.4rem 0 1.1rem; display:flex; flex-direction:column; align-items:center; gap:.8rem; background:linear-gradient(180deg,rgba(13,15,18,0.95),rgba(13,15,18,0.75) 60%,rgba(13,15,18,0)); transition:opacity .4s ease, transform .5s ease; }
  .hero.collapsed { opacity:0; pointer-events:none; }
  /* Shrink behavior */
  .hero { transition:padding .4s ease, background .4s ease; position:relative; }
  .hero.shrink { padding:.7rem 0 .55rem; background:linear-gradient(180deg,rgba(13,15,18,0.97),rgba(13,15,18,0.82) 65%,rgba(13,15,18,0)); }
  .hero img { transition:height .45s ease, transform .45s ease; }
  .hero.shrink img { height:90px; transform:translateY(0); }
  .hero.shrink .progress-center { gap:.35rem; }
  .hero.shrink #progressPercentText { font-size:.9rem; letter-spacing:1.4px; text-shadow:0 0 12px rgba(79,179,255,.18); }
  @media (max-width:700px){ .hero.shrink img { height:70px; } }
  .hero img { height:150px; width:auto; filter:drop-shadow(0 6px 16px rgba(0,0,0,.65)); margin:0; }
  @media (max-width:900px){ .hero img { height:140px; } }
  @media (max-width:600px){ .hero img { height:120px; } }
  h1 { font-size:0.95rem; margin:0; font-weight:600; letter-spacing:2px; text-transform:uppercase; opacity:.92; }
  /* Progress inside hero + floating duplicate */
  .progress-center { width:100%; max-width:760px; margin:0 auto; display:flex; flex-direction:column; align-items:center; text-align:center; gap:.55rem; padding-top:.4rem; }
  .progress-floating { position:fixed; top:0; left:50%; transform:translateX(-50%); width:100%; max-width:760px; padding:.45rem clamp(.75rem,2vw,1.1rem) .55rem; backdrop-filter:blur(10px); background:rgba(15,18,22,0.85); border:1px solid #1f2730; border-top:none; border-radius:0 0 14px 14px; box-shadow:0 8px 18px -10px rgba(0,0,0,.55),0 0 0 1px rgba(255,255,255,0.02); display:flex; flex-direction:column; align-items:center; gap:.4rem; opacity:0; pointer-events:none; transition:opacity .35s ease; z-index:70; }
  .progress-floating.visible { opacity:1; pointer-events:auto; }
  .progress-floating #progressPercentTextFloating { font-size:.85rem; letter-spacing:1.5px; font-weight:600; background:var(--accent-grad); -webkit-background-clip:text; background-clip:text; color:transparent; text-shadow:0 0 12px rgba(79,179,255,.22); }
  .progress-floating #itemsRemainingFloating { font-size:.55rem; letter-spacing:1.2px; text-transform:uppercase; font-weight:600; color:#b4c2cc; background:#25313c; padding:.25rem .55rem .28rem; border-radius:999px; box-shadow:0 0 0 1px #2a3741; }
  .progress-floating .progress-bar { height:11px; border-radius:7px; }
  body.with-floating-padding { padding-top:var(--floating-total, 82px); }
  #progressPercentText { font-size:1.05rem; letter-spacing:2px; text-transform:uppercase; font-weight:700; background:var(--accent-grad); -webkit-background-clip:text; background-clip:text; color:transparent; text-shadow:0 0 18px rgba(79,179,255,.28); }
  .progress-bar { height:14px; width:100%; background:#1f2730; border-radius:8px; overflow:hidden; position:relative; box-shadow:0 2px 6px -2px rgba(0,0,0,.5) inset,0 0 0 1px #1d252d; }
  .progress-bar__fill { position:absolute; top:0; left:0; height:100%; width:0; background:var(--accent-grad); transition:width .45s cubic-bezier(.55,.12,.25,.9); }
  #itemsRemaining { font-size:.7rem; letter-spacing:1.5px; text-transform:uppercase; font-weight:600; color:#b9c5cf; background:#25313c; padding:.3rem .65rem .32rem; border-radius:999px; box-shadow:0 2px 4px -2px rgba(0,0,0,.5),0 0 0 1px #2b3741; }
  .controls { position:fixed; top:.65rem; right:.7rem; display:flex; gap:.5rem; z-index:80; align-items:center; }
  /* Controls stay fixed at very top now; floating bar will shift below them dynamically via JS */
  .controls { transition:opacity .4s ease, transform .45s ease; }
  .controls.hide-on-scroll { opacity:0; transform:translateY(-14px); pointer-events:none; }
  .controls #toTopBtn { width:34px; height:34px; display:flex; align-items:center; justify-content:center; font-size:.9rem; font-weight:700; background:rgba(40,48,56,.65); backdrop-filter:blur(4px); border:1px solid #2a3541; border-radius:8px; cursor:pointer; color:var(--fg); opacity:0; transform:translateY(-6px); pointer-events:none; transition:opacity .3s ease, transform .35s ease, border-color .25s; }
  .controls #toTopBtn:hover { border-color:var(--accent); }
  .controls #toTopBtn.visible { opacity:1; transform:translateY(0); pointer-events:auto; }
  @media (max-width:650px){
    .controls { opacity:.55; transition:opacity .3s ease; }
    .controls:focus-within, .controls:hover { opacity:1; }
  }
  #langSel, button { background:rgba(32,40,48,.55); backdrop-filter:blur(4px); color:var(--fg); border:1px solid #2a3541; padding:0.45rem 0.7rem; border-radius:6px; font-size:0.65rem; letter-spacing:.6px; text-transform:uppercase; font-weight:600; }
  button:hover, #langSel:hover { border-color:var(--accent); }
  /* #resetBtn additional overrides can go here if needed */
    main { max-width:1400px; margin:0 auto; padding:0.75rem 1rem 2rem; }
    .categories { display:flex; flex-direction:column; gap:1rem; }
    .cat { background:var(--panel); border:1px solid var(--border); border-radius:var(--radius); overflow:hidden; }
    .cat-header { cursor:pointer; padding:0.75rem 1rem; display:flex; align-items:center; gap:0.75rem; user-select:none; background:var(--panel-alt); }
    .cat-header:hover { background:#202830; }
    .cat-header h2 { flex:1; margin:0; font-size:0.9rem; letter-spacing:.5px; font-weight:600; }
    .cat-count { font-size:0.7rem; background:#25313c; padding:0.25rem 0.5rem; border-radius:999px; color:var(--muted); }
    .cat-body { display:grid; grid-template-columns:repeat(auto-fill,minmax(200px,1fr)); gap:0.55rem; padding:0.75rem 0.85rem 1rem; }
  .item { border:1px solid var(--border); padding:0.6rem 0.65rem 0.75rem; border-radius:8px; background:#161d23; cursor:pointer; line-height:1.25; position:relative; font-size:0.78rem; display:flex; flex-direction:column; gap:.55rem; }
  .item .top { display:flex; align-items:flex-start; gap:.65rem; }
  .item .thumb { width:var(--icon-size); height:var(--icon-size); flex:0 0 var(--icon-size); border:1px solid #25313c; background:#10161b; border-radius:12px; display:flex; align-items:center; justify-content:center; overflow:hidden; box-shadow:0 2px 6px -2px rgba(0,0,0,.6); }
  .item .thumb img { width:100%; height:100%; display:block; object-fit:contain; image-rendering:auto; /* allow browser smoothing */ }
  .item .thumb img.hi-upscaled { filter:drop-shadow(0 0 2px rgba(0,0,0,.4)); }
  @media (max-width:600px){ :root { --icon-size:64px; } }
  .item .meta { flex:1; display:flex; flex-direction:column; min-width:0; }
  .item .label { font-weight:600; font-size:.82rem; line-height:1.15; display:block; margin:0 0 .2rem; }
  .item .desc { font-size:.63rem; letter-spacing:.35px; color:#c2ccd4; line-height:1.25; }
  .item[aria-checked="true"] .desc { opacity:.8; }
  .item .map-img { width:100%; border:1px solid #25313c; background:#10161b; border-radius:8px; overflow:hidden; aspect-ratio: 5 / 2; display:flex; align-items:center; justify-content:center; margin-top:auto; }
  .item .map-img img { width:100%; height:100%; object-fit:cover; opacity:.9; filter:contrast(1.05) brightness(.95); }
  .item:hover { border-color:#2d3944; background:#1b242b; box-shadow:0 0 0 1px #25313c, 0 4px 10px -4px rgba(0,0,0,.6); }
  .item:active { transform:translateY(1px); }
  .item.pulse { animation:pulse .45s ease; }
  @keyframes pulse { 0%{box-shadow:0 0 0 0 rgba(79,179,255,.6);} 100%{box-shadow:0 0 0 22px rgba(79,179,255,0);} }
    .item:focus-visible { outline:2px solid var(--focus); outline-offset:2px; }
    .item[aria-checked="true"] { background:#1e2d20; border-color:#315136; }
    .item[aria-checked="true"] .checkmark { opacity:1; transform:scale(1); }
    .item .label { font-weight:500; }
  .checkmark { position:absolute; top:6px; right:6px; font-size:0.85rem; opacity:0.15; transition:.18s ease; }
    .item[aria-checked="true"] .label { text-decoration:line-through; opacity:.85; }
    .collapse-icon { font-size:0.75rem; opacity:0.6; transition:transform .25s; }
    .cat.collapsed .cat-body { display:none; }
    .cat.collapsed .collapse-icon { transform:rotate(-90deg); }
    footer { padding:1rem; font-size:0.7rem; color:var(--muted); text-align:center; border-top:1px solid var(--border); background:#0f1215; }
    .actions { display:flex; gap:0.5rem; align-items:center; }
    @media (max-width:700px){ .cat-body { grid-template-columns:repeat(auto-fill,minmax(150px,1fr)); } }
    .sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0; }
  /* Tooltip */
  .tooltip { position:fixed; z-index:100; pointer-events:none; max-width:280px; background:#0f1418; border:1px solid #25313c; padding:.6rem .7rem .65rem; border-radius:8px; font-size:.7rem; line-height:1.25; box-shadow:0 6px 18px -6px rgba(0,0,0,.55); opacity:0; transform:translateY(4px); transition:opacity .15s ease, transform .18s ease; }
  .tooltip[data-show="true"] { opacity:1; transform:translateY(0); }
  .tooltip h4 { margin:.1rem 0 .35rem; font-size:.75rem; font-weight:600; letter-spacing:.5px; background:var(--accent-grad); -webkit-background-clip:text; background-clip:text; color:transparent; }
  .tooltip .row { margin:0 0 .35rem; }
  .tooltip .row:last-child { margin-bottom:0; }
  .tooltip .muted { color:var(--muted); font-style:italic; }
  @media (pointer:coarse){ .tooltip { display:none; } }
  /* Search input narrower width */
  .search-bar-wrap { width:100%; max-width:760px; padding:0 .75rem; display:flex; justify-content:center; }
  #searchInput { width:320px; max-width:100%; }
  @media (max-width:560px){ #searchInput { width:100%; } }
  </style>
</head>
<body>
<!-- Removed legacy GTM noscript iframe to keep analytics minimal -->

<!-- AdSense placeholder (uncomment when real publisher ID added) -->
<!-- AdSense script already included in <head>; keep this placeholder commented to avoid double load -->
<header>
  <div class="hero">
    <div class="controls">
      <label for="langSel" class="sr-only">Language</label>
      <select id="langSel" aria-label="Language">
        <option value="en">EN</option>
        <option value="es">ES</option>
      </select>
      <button id="resetBtn" data-i18n="reset">Reset</button>
      <button id="toTopBtn" aria-label="Back to top" title="Back to top">↑</button>
    </div>
    <img src="./assets/images/ss3.png" alt="Silksong" loading="lazy" decoding="async" />
    <h1 data-i18n="app.title">100% Completion Checklist</h1>
    <div class="search-bar-wrap">
      <input id="searchInput" type="search" placeholder="Search item..." aria-label="Search items" data-i18n-placeholder="search.placeholder" style="background:#141b21;border:1px solid #25313c;color:var(--fg);padding:.55rem .75rem .6rem;border-radius:8px;font-size:.7rem;letter-spacing:.5px;outline:none;box-shadow:0 2px 4px -2px rgba(0,0,0,.5),0 0 0 1px rgba(255,255,255,0.02);transition:border-color .25s, background .25s;" />
    </div>
    <div class="progress-center">
      <div id="progressPercentText">0% Done</div>
      <div class="progress-bar" aria-hidden="true"><div class="progress-bar__fill"></div></div>
      <div id="itemsRemaining">0 items remaining</div>
    </div>
  </div>
</header>
<div class="progress-floating" id="progressFloating" aria-hidden="true">
  <div id="progressPercentTextFloating">0% Done</div>
  <div class="progress-bar" aria-hidden="true"><div class="progress-bar__fill progress-bar__fill--floating"></div></div>
  <div id="itemsRemainingFloating">0 items remaining</div>
</div>
<div id="datasetIssues" style="display:none;position:fixed;left:50%;transform:translateX(-50%);top:56px;z-index:90;max-width:820px;width:calc(100% - 2rem);background:#3a1f1f;border:1px solid #a33;padding:.65rem .85rem .7rem;border-radius:10px;color:#f5d9d9;font-size:.65rem;line-height:1.25;box-shadow:0 4px 14px -6px rgba(0,0,0,.6);">
  <strong data-i18n="dataset.errors.title">Dataset validation issues:</strong>
  <ul id="datasetIssuesList" style="margin:.4rem 0 0 .9rem;padding:0;">
  </ul>
  <button id="dismissIssues" style="margin-top:.55rem;background:#592d2d;border:1px solid #a33;color:#f9e2e2;padding:.25rem .55rem;border-radius:5px;font-size:.6rem;cursor:pointer;">OK</button>
</div>
<style>
  /* Light theme overrides */
  body.theme-light {
    --bg:#f5f7fa; --panel:#ffffff; --panel-alt:#f1f3f6; --fg:#1d242b; --accent:#0d6efd; --accent-grad:linear-gradient(90deg,#0d6efd,#22c68a); --muted:#5a6672; --border:#d4dde5; --focus:#d68b00; --danger:#d62f2f;
  }
  body.theme-light .item { background:#ffffff; }
  body.theme-light .item:hover { background:#f2f6f9; }
  body.theme-light .cat { border-color:#d4dde5; }
  body.theme-light .cat-header { background:#eef2f6; }
  body.theme-light .progress-floating { background:rgba(255,255,255,0.85); border-color:#cbd6df; }
  body.theme-light #itemsRemaining, body.theme-light #itemsRemainingFloating { background:#dbe5ec; color:#2d3a44; box-shadow:0 0 0 1px #b8c8d3; }
  body.theme-light .controls #toTopBtn, body.theme-light #resetBtn, body.theme-light #langSel { background:rgba(255,255,255,0.75); border-color:#c5d2db; color:#243039; }
  body.theme-light .progress-bar { background:#d8e1e9; box-shadow:0 0 0 1px #c2ccd4 inset; }
  body.theme-light footer { background:#e9edf0; color:#4d5963; }
  body.theme-light .tooltip { background:#ffffff; border-color:#cfd9e1; color:#1d242b; }
  body.theme-light .tooltip h4 { text-shadow:none; }
  body.theme-light #datasetIssues { background:#f9e3e3; color:#5a2222; border-color:#d28a8a; }
</style>
<main>
  <section id="intro" style="max-width:760px;margin:0 auto 1.25rem;padding:0 .9rem;line-height:1.5;font-size:.8rem;color:#c9d3db;">
    <h2 data-i18n="intro.heading" style="margin:.2rem 0 .6rem;font-size:1rem;letter-spacing:.5px;font-weight:600;">Hollow Knight: Silksong Completion Tracker</h2>
    <p data-i18n="intro.p1" style="margin:.4rem 0 .65rem;">Use this free interactive checklist to plan and verify your 100% (and future 112% if applicable) progression in <strong>Hollow Knight: Silksong</strong>. Mark needle upgrades, silk spools, crests, abilities, tools and more. Your progress is stored locally (no login) so you can return any time.</p>
    <p data-i18n="intro.p2" style="margin:.4rem 0 .65rem;">A Spanish interface is available – switch languages with the selector above. Data will evolve as official information is released.</p>
    <noscript><p data-i18n="intro.noscript"><strong>Note:</strong> This checklist needs JavaScript enabled to function. You can still view a simplified list of item categories below.</p></noscript>
  </section>
  <!-- Ad Unit: Top Responsive -->
  <div class="ad-unit" id="ad-top">
    <small>Advertisement</small>
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9707168065012640" data-ad-slot="8232693985" data-ad-format="auto" data-full-width-responsive="true"></ins>
    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
  </div>
  <div class="categories" id="categories" aria-live="polite"></div>
</main>
<footer>
  <!-- Ad Unit: Footer Responsive -->
  <div class="ad-unit" id="ad-footer" style="margin-top:1.5rem;">
    <small>Advertisement</small>
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9707168065012640" data-ad-slot="9354203965" data-ad-format="auto" data-full-width-responsive="true"></ins>
    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
  </div>
  <span data-i18n="footer.note">Placeholder dataset based on Hollow Knight – will be replaced with Silksong data.</span>
  <br><a href="/privacy.html" style="color:var(--accent);font-size:0.65rem;">Privacy & Cookies</a>
</footer>
<script type="module" src="./src/js/main.js"></script>
<!-- (Removed custom lazy / retry script; using pure default one-line pushes above each ad) -->
<script>
  // Dynamically update <html lang> when language changes
  (function(){
    const sel = document.getElementById('langSel');
    if(!sel) return;
    function applyLang(){
      const v = sel.value || 'en';
      document.documentElement.setAttribute('lang', v);
    }
    sel.addEventListener('change', applyLang);
    applyLang();
  })();
  // Basic fallback category headings for bots / no-JS (injection after slight delay if empty)
  (function(){
    const placeholder = document.getElementById('categories');
    if(!placeholder) return;
    setTimeout(()=>{
      if(placeholder.children.length === 0){
        const ul = document.createElement('ul');
        ul.style.listStyle='disc';
        ul.style.padding='0 0 0 1.1rem';
        ul.style.fontSize='.7rem';
        ul.style.opacity='0.75';
        const keys = [
          'fallback.categories.needle_upgrades',
          'fallback.categories.silk_spools',
          'fallback.categories.silk_hearts',
          'fallback.categories.ancient_masks',
          'fallback.categories.crests',
          'fallback.categories.silk_skills',
          'fallback.categories.crafting_kit_upgrades',
          'fallback.categories.tool_pouch_upgrades',
          'fallback.categories.abilities',
          'fallback.categories.tools',
          'fallback.categories.misc'
        ];
        keys.forEach(k=>{ const li=document.createElement('li'); li.setAttribute('data-i18n', k); li.textContent=k; ul.appendChild(li); });
        placeholder.appendChild(ul);
      }
    }, 1200);
  })();
</script>
<script>
  (function(){
    const hero = document.querySelector('.hero');
    const toTop = document.getElementById('toTopBtn');
    if(!hero || !toTop) return;
    const shrinkStart = 40; // px
    const fullHeight = hero.offsetHeight;
    const trigger = fullHeight * 0.55;
    function onScroll(){
      const y = window.scrollY || document.documentElement.scrollTop;
      // shrink toggle
      if(y > shrinkStart) hero.classList.add('shrink'); else hero.classList.remove('shrink');
      // back to top visibility
      if(y > trigger){ toTop.classList.add('visible'); } else { toTop.classList.remove('visible'); }
    }
    window.addEventListener('scroll', onScroll, { passive:true });
    onScroll();
    toTop.addEventListener('click', () => { window.scrollTo({ top:0, behavior:'smooth' }); });
  })();
</script>
</body>
</html>
